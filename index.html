<!DOCTYPE html>
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Christ Love Ministries | Rundu Branch</title>  
    <script src="https://cdn.tailwindcss.com"></script>  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">  
    <style>  
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');  
        
        body { font-family: 'Poppins', sans-serif; background: #020617; color: white; margin: 0; overflow-x: hidden; }  

        /* Background Slideshow */  
        #bg-slideshow { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }  
        .bg-slide { position: absolute; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease; }  
        .bg-slide.active { opacity: 0.35; }  

        /* UI Layers */  
        #app-container { position: relative; z-index: 10; min-height: 100vh; transition: filter 0.3s; }  
        .content-blur { filter: blur(15px); pointer-events: none; }  

        /* Glass Styling */  
        .glass {   
            background: rgba(30, 58, 138, 0.15);   
            backdrop-filter: blur(12px);   
            border: 1px solid rgba(255, 255, 255, 0.1);   
            border-radius: 1.5rem;   
            cursor: pointer;   
            transition: all 0.3s ease;   
        }  
        .glass:hover { transform: translateY(-5px); background: rgba(30, 58, 138, 0.3); border-color: #3b82f6; }  

        /* Tab System */  
        .tab-page {   
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;   
            z-index: 100; background: rgba(2, 6, 23, 0.98); backdrop-filter: blur(20px);  
            display: none; flex-direction: column; padding: 2rem; overflow-y: auto;  
        }  
        .tab-page.active { display: flex; animation: fadeIn 0.4s ease; }  

        .back-btn {   
            display: inline-flex; align-items: center; gap: 0.75rem;   
            padding: 0.8rem 1.6rem; background: #2563eb; border-radius: 50px;  
            color: white; font-weight: 700; cursor: pointer; margin-bottom: 2rem;  
            width: fit-content; border: none;  
        }  

        /* AI Joshua Styling */  
        #ai-button { position: fixed; bottom: 20px; right: 20px; z-index: 150; }  
        #chat-window {   
            position: fixed; bottom: 90px; right: 20px; width: 340px; height: 500px;   
            background: #0f172a; border: 1px solid #3b82f6; border-radius: 1.5rem;   
            z-index: 150; display: none; flex-direction: column; overflow: hidden;  
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);  
        }  
        .message { padding: 12px; border-radius: 1rem; margin: 6px; max-width: 85%; font-size: 0.85rem; line-height: 1.5; word-wrap: break-word; }  
        .bot { background: #1e3a8a; align-self: flex-start; color: #dbeafe; border-bottom-left-radius: 0; }  
        .user { background: #3b82f6; align-self: flex-end; color: white; border-bottom-right-radius: 0; }  
        .typing { color: #93c5fd; font-size: 0.7rem; margin-left: 10px; font-style: italic; display: none; margin-bottom: 5px; }

        input, select { width: 100%; padding: 12px; border-radius: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2); color: white; margin-bottom: 15px; }  
        input:focus, select:focus { outline: 2px solid #3b82f6; border-color: transparent; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }  
    </style>
</head>  
<body>

<div id="bg-slideshow">  
    <img src="https://images.unsplash.com/photo-1438232992991-995b7058bbb3?q=80&w=1920" class="bg-slide active">  
    <img src="https://images.unsplash.com/photo-1504052434569-70ad5836ab65?q=80&w=1920" class="bg-slide">  
</div>  

<div id="app-container">  
    <header class="text-center py-12 px-4 relative">  
        <div class="w-32 h-32 mx-auto bg-slate-800 rounded-full mb-4 border-4 border-blue-500 overflow-hidden shadow-lg shadow-blue-500/20">  
            <img src="Title Logo.png" alt="Logo" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/150?text=CLM'">  
        </div>  
        <h1 class="text-4xl md:text-5xl font-bold">Christ Love Ministries</h1>  
        <p class="text-blue-400 tracking-[0.3em] font-bold uppercase text-xs mt-2">Rundu Branch • Prophetic Territory</p>  
        <button onclick="toggleSidebar()" class="absolute top-8 right-8 text-3xl text-white hover:text-blue-400"><i class="fas fa-bars"></i></button>  
    </header>  

    <main class="max-w-5xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 gap-6 pb-24">  
        <div class="glass p-8 text-center" onclick="openTab('vision')">  
            <i class="fas fa-eye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Vision</h3>  
        </div>  
        <div class="glass p-8 text-center" onclick="openTab('mission')">  
            <i class="fas fa-bullseye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Mission</h3>  
        </div>  
        <div class="glass p-8 text-center" onclick="openTab('services')">  
            <i class="fas fa-church text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Services</h3>  
        </div>  
        <div class="glass p-8 text-center" onclick="openTab('leaders')">  
            <i class="fas fa-user-tie text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Leadership</h3>  
        </div>  
        <div class="glass p-8 text-center sm:col-span-2 border-2 border-blue-500/40 bg-blue-600/10" onclick="openTab('join')">  
            <i class="fas fa-users-rays text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Join Choir or Ushers</h3>  
        </div>  
    </main>  
</div>  

<div id="sidebar" class="fixed top-0 right-[-320px] w-80 h-full bg-slate-900 z-[110] transition-all duration-300 p-10 border-l border-blue-500/30 shadow-2xl">  
    <button onclick="toggleSidebar()" class="text-2xl mb-10"><i class="fas fa-times"></i></button>  
    <nav class="flex flex-col gap-6 text-xl">  
        <a href="javascript:void(0)" class="hover:text-blue-400" onclick="openTab('call', true)"><i class="fas fa-phone mr-3"></i> Contact Us</a>  
        <a href="javascript:void(0)" class="hover:text-blue-400" onclick="openTab('find-us', true)"><i class="fas fa-map-marker-alt mr-3"></i> Find Us</a>  
        <a href="javascript:void(0)" class="hover:text-blue-400" onclick="openTab('quotes', true)"><i class="fas fa-quote-left mr-3"></i> Quotes</a>  
        <a href="javascript:void(0)" class="text-blue-400 font-bold mb-4" onclick="openTab('anchor', true)"><i class="fas fa-bible mr-3"></i> 2026 Scripture</a>  
        <hr class="border-white/10 my-2">  
        <a href="https://www.instagram.com/clmi_rundu" target="_blank" class="text-base"><i class="fab fa-instagram mr-3"></i> Instagram</a>  
    </nav>  
</div>  

<div id="vision" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-2xl mx-auto text-center mt-20"><h2 class="text-4xl font-bold text-blue-400 mb-6">Vision</h2><p class="text-2xl italic">"Christlike Faith, Love, Truth, Holiness And Righteousness For All Nations."</p></div></div>

<div id="mission" class="tab-page">
    <button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button>
    <div class="max-w-3xl mx-auto mt-6 text-center">
        <h2 class="text-4xl font-bold text-blue-400 mb-8">Our Mission</h2>
        <div class="glass p-8 border-l-4 border-blue-500 leading-relaxed text-lg text-left italic">
            "As we receive the Love and Mercy of God... we plant churches, teach and demonstrate the love of Jesus Christ."
        </div>
    </div>
</div>

<div id="services" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-2xl mx-auto mt-6 text-center"><h2 class="text-4xl font-bold text-blue-400 mb-8">Service Times</h2><div class="space-y-4"><div class="glass p-5">Sunday: 08:00 AM</div><div class="glass p-5">Wednesday: 06:00 PM</div><div class="glass p-5">Friday: 06:00 PM</div></div></div></div>

<div id="leaders" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-2xl mx-auto text-center mt-6"><img src="Apostle.JPG" class="w-64 h-64 rounded-2xl mx-auto mb-6 object-cover border-4 border-blue-500 shadow-xl" onerror="this.src='https://via.placeholder.com/300'"><h3 class="text-3xl font-bold">Joseph Kandjeke Likoro</h3><p class="text-blue-400 font-bold uppercase">Head Apostle</p></div></div>

<div id="join" class="tab-page">
    <button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button>
    <div class="max-w-xl mx-auto">
        <h2 class="text-3xl font-bold text-blue-400 mb-4 text-center">Ministry Enlistment</h2>
        <form id="enlistmentForm" onsubmit="submitToWhatsApp(event)" class="glass p-8">
            <input type="text" id="join-name" required placeholder="Full Name">
            <input type="tel" id="join-phone" required placeholder="Phone Number">
            <select id="join-ministry" required>
                <option value="Choir">The Choir</option>
                <option value="Ushers">The Royal Ushers</option>
            </select>
            <button type="submit" class="w-full bg-blue-600 py-4 rounded-xl font-bold hover:bg-green-600 transition">
                <i class="fab fa-whatsapp mr-2"></i> Submit to Pastor Daniel
            </button>
        </form>
    </div>
</div>

<div id="find-us" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-md mx-auto text-center mt-20"><h2 class="text-4xl font-bold mb-4 text-blue-400">Location</h2><p class="text-xl">Opposite Satoka, Rundu</p></div></div>
<div id="call" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-md mx-auto text-center mt-20"><h2 class="text-4xl font-bold mb-10 text-blue-400">Contact</h2><a href="tel:0814308121" class="block glass p-6 text-3xl font-bold">081 430 8121</a></div></div>
<div id="anchor" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-2xl mx-auto text-center mt-20"><h2 class="text-blue-400 text-sm tracking-widest font-bold mb-4 uppercase">2026 Mandate</h2><p class="text-4xl font-bold italic">"If the foundations be destroyed, what can the righteous do?"</p><p class="mt-8 text-2xl font-bold text-blue-500">— Psalm 11:3</p></div></div>
<div id="quotes" class="tab-page"><button class="back-btn" onclick="smartClose()"><i class="fas fa-arrow-left"></i> Back</button><div class="max-w-3xl mx-auto mt-10 space-y-8"><div class="glass p-8 border-l-4 border-blue-500"><p class="text-2xl italic">"Sometimes we want to be employees when we are employers."</p></div></div></div>

<button id="ai-button" onclick="toggleChat()" class="bg-blue-600 w-16 h-16 rounded-full shadow-2xl flex items-center justify-center text-2xl hover:scale-110 transition">  
    <i class="fas fa-bolt"></i>  
</button>  

<div id="chat-window">  
    <div class="bg-blue-900 p-4 font-bold flex justify-between items-center">  
        <span>Joshua: Digital Assistant</span>  
        <button onclick="toggleChat()"><i class="fas fa-times"></i></button>  
    </div>  
    <div id="chat-box" class="flex-1 overflow-y-auto p-4 flex flex-col bg-slate-900">  
        <div class="message bot">Grace and peace! I am Joshua. How can I assist you with Christ Love Ministries today?</div>  
    </div>
    <div id="typing-indicator" class="typing">Joshua is thinking...</div>
    <div class="p-3 bg-slate-800 flex gap-2">  
        <input type="text" id="user-input" class="bg-slate-700 border-none rounded-lg p-2 flex-1 text-white text-sm" placeholder="Ask a question..." onkeypress="handleEnter(event)">  
        <button onclick="sendSmartMessage()" class="bg-blue-600 px-4 rounded-lg"><i class="fas fa-paper-plane"></i></button>  
    </div>  
</div>  

<script>  
    const API_KEY = "AIzaSyDGEVFz0hKSFeBtr3B6U3WAv1mtwA2uD0k";
    const PASTOR_PHONE = "+264818970072";

    // Sidebar & Navigation
    let fromSidebar = false;  
    function openTab(id, sidebar = false) {  
        fromSidebar = sidebar;  
        if(sidebar) toggleSidebar();   
        document.getElementById(id).classList.add('active');  
        document.getElementById('app-container').classList.add('content-blur');  
    }  
    function smartClose() {  
        document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));  
        document.getElementById('app-container').classList.remove('content-blur');  
    }  
    function toggleSidebar() {  
        const s = document.getElementById('sidebar');  
        const currentRight = s.style.right;
        s.style.right = (currentRight === '0px') ? '-320px' : '0px';  
    }

    // WhatsApp Enlistment
    function submitToWhatsApp(e) {
        e.preventDefault();
        const name = document.getElementById('join-name').value;
        const phone = document.getElementById('join-phone').value;
        const ministry = document.getElementById('join-ministry').value;
        const message = `Praise God Pastor Daniel. My name is ${name} (${phone}). I would like to join the ${ministry} at CLM Rundu.`;
        window.open(`https://wa.me/${PASTOR_PHONE}?text=${encodeURIComponent(message)}`, '_blank');
    }

    // Joshua AI Integration
    async function sendSmartMessage() {
        const input = document.getElementById('user-input');
        const chatBox = document.getElementById('chat-box');
        const typing = document.getElementById('typing-indicator');
        const text = input.value.trim();
        
        if (!text) return;

        chatBox.innerHTML += `<div class="message user">${text}</div>`;
        input.value = '';
        typing.style.display = 'block';
        chatBox.scrollTop = chatBox.scrollHeight;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: `You are Joshua, the digital assistant for Christ Love Ministries (CLM) Rundu. 
                            Apostle: Joseph Kandjeke Likoro. 
                            Resident Pastor: Elsie Figeretu. 
                            2026 Mandate: Psalm 11:3. 
                            Mission: Church planting, intercession, and demonstrating God's love.
                            Respond with warmth and scripture. 
                            User asks: ${text}`
                        }]
                    }]
                })
            });
            const data = await response.json();
            const reply = data.candidates[0].content.parts[0].text;
            chatBox.innerHTML += `<div class="message bot">${reply}</div>`;
        } catch (error) {
            chatBox.innerHTML += `<div class="message bot">I apologize, I'm having trouble connecting to the server. Please check your internet or try again.</div>`;
            console.error(error);
        }
        
        typing.style.display = 'none';
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    function handleEnter(e) { if(e.key === 'Enter') sendSmartMessage(); }
    function toggleChat() { 
        const win = document.getElementById('chat-window');
        win.style.display = (win.style.display === 'flex') ? 'none' : 'flex';
    }

    // Slideshow  
    const slides = document.querySelectorAll('.bg-slide');  
    let cur = 0; 
    setInterval(() => { 
        slides[cur].classList.remove('active'); 
        cur = (cur + 1) % slides.length; 
        slides[cur].classList.add('active'); 
    }, 5000);  
</script>  
</body>  
</html>
