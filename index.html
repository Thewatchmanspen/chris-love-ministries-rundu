<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christ Love Ministries | Rundu Branch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; background: #0f172a; color: white; margin: 0; overflow: hidden; }

        /* Background Slideshow Layer */
        #bg-slideshow { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; overflow: hidden; }
        .bg-slide { position: absolute; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease; }
        .bg-slide.active { opacity: 0.35; }

        /* Main UI Layer */
        #app-container { position: relative; z-index: 10; height: 100vh; width: 100%; overflow-y: auto; transition: filter 0.3s ease; }
        .content-blur { filter: blur(12px); pointer-events: none; }

        /* Interactive Glass Cards */
        .glass { background: rgba(30, 58, 138, 0.4); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1.25rem; cursor: pointer; transition: 0.3s; }
        .glass:hover { transform: translateY(-5px); background: rgba(30, 58, 138, 0.7); border-color: rgba(59, 130, 246, 0.5); }

        /* Tab System Styling */
        .tab-page { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 100; background: rgba(10, 20, 40, 0.97); backdrop-filter: blur(20px);
            display: none; flex-direction: column; padding: 2rem; overflow-y: auto;
        }
        .tab-page.active { display: flex; animation: fadeIn 0.3s ease; }

        .back-btn { 
            display: inline-flex; align-items: center; gap: 0.5rem; 
            padding: 0.7rem 1.5rem; background: #2563eb; border-radius: 9999px;
            color: white; font-weight: 600; cursor: pointer; margin-bottom: 2rem;
            width: fit-content; transition: 0.2s; border: none;
        }
        .back-btn:hover { background: #1d4ed8; transform: scale(1.05); }

        /* AI Chat Bubbles */
        .chat-bubble { max-width: 85%; padding: 14px; border-radius: 18px; margin-bottom: 10px; line-height: 1.5; }
        .user-msg { background: #3b82f6; align-self: flex-end; color: white; border-bottom-right-radius: 2px; }
        .bot-msg { background: #1e3a8a; align-self: flex-start; color: #dbeafe; border-bottom-left-radius: 2px; border: 1px solid #3b82f6; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="bg-slideshow">
        <img src="https://images.unsplash.com/photo-1438232992991-995b7058bbb3?q=80&w=1920" class="bg-slide active">
        <img src="https://images.unsplash.com/photo-1504052434569-70ad5836ab65?q=80&w=1920" class="bg-slide">
    </div>

    <div id="app-container">
        <header class="text-center py-12 relative">
            <div class="w-32 h-32 mx-auto bg-blue-900 rounded-full mb-6 border-4 border-blue-400 overflow-hidden shadow-2xl">
                <img src="Title Logo.png" alt="Church Logo" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/150?text=LOGO'">
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white drop-shadow-lg">Christ Love Ministries</h1>
            <p class="text-blue-400 uppercase tracking-[0.3em] font-semibold mt-2">Rundu Branch</p>
            
            <button onclick="toggleSidebar()" class="absolute top-8 right-8 text-3xl text-white hover:text-blue-400 transition">
                <i class="fas fa-bars"></i>
            </button>
        </header>

        <main class="max-w-5xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pb-32">
            <div class="glass p-8 text-center" onclick="openTab('vision')">
                <i class="fas fa-eye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Vision</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('mission')">
                <i class="fas fa-bullseye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Mission</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('services')">
                <i class="fas fa-church text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Services</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('quotes')">
                <i class="fas fa-quote-left text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Quotes</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('anchor')">
                <i class="fas fa-anchor text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Anchor</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('leaders')">
                <i class="fas fa-user-tie text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Leadership</h3>
            </div>
        </main>
    </div>

    <div id="sidebar" class="fixed top-0 right-[-320px] w-80 h-full bg-slate-900/95 backdrop-blur-xl z-[110] transition-all duration-300 p-10 border-l border-blue-500/30">
        <button onclick="toggleSidebar()" class="text-2xl mb-10 text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
        <nav class="flex flex-col gap-8 text-xl font-medium">
            <a href="#" class="hover:text-blue-400 flex items-center gap-3" onclick="openTab('about'); toggleSidebar()"><i class="fas fa-info-circle"></i> About Us</a>
            <a href="#" class="hover:text-blue-400 flex items-center gap-3" onclick="openTab('leaders'); toggleSidebar()"><i class="fas fa-users"></i> Leaders</a>
            <a href="#" class="hover:text-blue-400 flex items-center gap-3" onclick="openTab('call'); toggleSidebar()"><i class="fas fa-phone"></i> Contact</a>
        </nav>
    </div>

    <div id="vision" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto text-center mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-8 underline decoration-blue-800 underline-offset-8">Our Vision</h2>
            <p class="text-3xl italic font-light leading-relaxed">"Christ like faith and righteousness for all nations."</p>
            <p class="mt-6 text-xl font-bold text-blue-300 tracking-widest">— 1 Timothy 1:5</p>
        </div>
    </div>

    <div id="mission" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-3xl mx-auto mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-8 text-center">Our Mission</h2>
            <div class="glass p-8 border-l-8 border-blue-600">
                <p class="text-xl leading-relaxed text-blue-50">
                    "As we receive the love and mercy of God, we lift up the name of Jesus in power and spiritual warfare, we plant churches, teach and demonstrate the love of God that passes all understanding that all might accept Jesus Christ as their all in all."
                </p>
            </div>
        </div>
    </div>

    <div id="services" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-10 text-center">Service Times</h2>
            <div class="space-y-4">
                <div class="glass p-5 flex justify-between items-center"><span>Sunday Services</span> <span class="text-blue-300 font-bold">from 8 AM</span></div>
                <div class="glass p-5 flex justify-between items-center"><span>Wednesday Services</span> <span class="text-blue-300 font-bold">6 PM</span></div>
                <div class="glass p-5 flex justify-between items-center"><span>Friday Fellowship</span> <span class="text-blue-300 font-bold">from 6 PM</span></div>
                <div class="glass p-5 border-red-500/50 bg-red-900/10"><p class="text-center font-bold">Every last Friday of the month we have overnight prayers</p></div>
            </div>
        </div>
    </div>

    <div id="quotes" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10 space-y-8">
            <div class="glass p-8 italic text-2xl relative">
                <i class="fas fa-quote-left absolute top-4 left-4 text-blue-900/40 text-5xl"></i>
                "Sometimes we look for employment when we are employers."
                <span class="block text-right mt-4 text-sm font-bold text-blue-400">— Apostle Joseph K.L</span>
            </div>
            <div class="glass p-8 italic text-2xl relative">
                <i class="fas fa-quote-left absolute top-4 left-4 text-blue-900/40 text-5xl"></i>
                "Just as the birds do not compete for space to fly, do not compete for prosperity, it is enough for everyone."
                <span class="block text-right mt-4 text-sm font-bold text-blue-400">— Apostle Joseph K.L</span>
            </div>
        </div>
    </div>

    <div id="anchor" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto text-center mt-20">
            <h2 class="text-4xl font-bold text-blue-400 mb-8">Anchor Scripture</h2>
            <div class="p-10 border-2 border-dashed border-blue-500 rounded-3xl">
                <p class="text-3xl font-serif italic leading-snug">"If the foundations be destroyed, what can the righteous do?"</p>
                <p class="mt-6 text-2xl font-bold text-blue-300">— Psalm 11:3</p>
            </div>
        </div>
    </div>

    <div id="leaders" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-4xl mx-auto text-center mt-6">
            <h2 class="text-4xl font-bold text-blue-400 mb-10">Our Leadership</h2>
            <div class="flex justify-center">
                <div class="glass p-8 max-w-sm w-full border-b-4 border-blue-500 shadow-2xl">
                    <img src="Apostle.PNG" alt="Apostle Joseph Kandjeke Likoro" 
                         class="w-64 h-64 mx-auto rounded-2xl object-cover mb-6 border-2 border-blue-400 shadow-lg"
                         onerror="this.src='https://via.placeholder.com/300?text=Apostle+Joseph'">
                    <h3 class="text-2xl font-bold text-white uppercase tracking-tight">Joseph Kandjeke Likoro</h3>
                    <p class="text-blue-400 font-bold mt-2">District Overseer</p>
                    <div class="mt-4 text-sm text-gray-400 italic">"Leading with faith and righteousness"</div>
                </div>
            </div>
        </div>
    </div>

    <div id="call" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-md mx-auto text-center mt-10">
            <i class="fas fa-headset text-6xl text-blue-500 mb-6"></i>
            <h2 class="text-4xl font-bold mb-10">Get in Touch</h2>
            <div class="space-y-4">
                <a href="tel:0814308121" class="block bg-blue-600 hover:bg-blue-500 p-5 rounded-2xl text-2xl font-bold transition shadow-lg flex items-center justify-center gap-4">
                    <i class="fas fa-phone"></i> 081 430 8121
                </a>
                <a href="tel:0814810981" class="block bg-blue-600 hover:bg-blue-500 p-5 rounded-2xl text-2xl font-bold transition shadow-lg flex items-center justify-center gap-4">
                    <i class="fas fa-phone"></i> 081 481 0981
                </a>
            </div>
        </div>
    </div>

    <div onclick="openJoshua()" class="fixed bottom-8 right-8 w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-3xl shadow-[0_0_20px_rgba(37,99,235,0.6)] z-50 cursor-pointer hover:scale-110 transition">
        <i class="fas fa-robot"></i>
    </div>

    <div id="joshua-modal" class="tab-page" style="background: rgba(15, 23, 42, 0.98);">
        <button class="back-btn" onclick="closeJoshua()"><i class="fas fa-times"></i> Close Joshua</button>
        <div class="w-full max-w-lg mx-auto h-[70vh] bg-slate-900 border border-blue-800 rounded-3xl flex flex-col overflow-hidden shadow-2xl">
            <div class="p-4 bg-blue-900/50 border-b border-blue-800 font-bold flex items-center gap-2">
                <i class="fas fa-circle text-green-500 text-xs animate-pulse"></i> Joshua Spiritual Assistant
            </div>
            <div id="joshua-output" class="flex-1 p-6 overflow-y-auto flex flex-col gap-3">
                <div class="chat-bubble bot-msg">Shalom! I am Joshua. I can answer questions about Christ Love Ministries or the Bible. How can I pray for or assist you today?</div>
            </div>
            <div class="p-4 bg-slate-800/50 flex gap-2">
                <input id="joshua-input" type="text" class="flex-1 bg-slate-900 border border-blue-700 rounded-full px-5 py-3 text-white focus:outline-none focus:border-blue-400" placeholder="Type your message..." onkeypress="if(event.key==='Enter') askJoshua()">
                <button onclick="askJoshua()" class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-500 transition"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script>
        // Slideshow Animation
        const slides = document.querySelectorAll('.bg-slide');
        let current = 0;
        setInterval(() => {
            slides[current].classList.remove('active');
            current = (current + 1) % slides.length;
            slides[current].classList.add('active');
        }, 5000);

        // Core Navigation Logic
        function openTab(id) {
            document.getElementById(id).classList.add('active');
            document.getElementById('app-container').classList.add('content-blur');
        }
        function closeTab() {
            document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
            document.getElementById('app-container').classList.remove('content-blur');
        }

        // Sidebar Control
        function toggleSidebar() {
            const s = document.getElementById('sidebar');
            s.style.right = (s.style.right === '0px') ? '-320px' : '0px';
        }

        // Joshua AI Logic (Pollinations AI Backend)
        function openJoshua() { document.getElementById('joshua-modal').classList.add('active'); }
        function closeJoshua() { document.getElementById('joshua-modal').classList.remove('active'); }

        async function askJoshua() {
            const input = document.getElementById('joshua-input');
            const output = document.getElementById('joshua-output');
            const text = input.value.trim();
            if(!text) return;

            // User message
            output.innerHTML += `<div class="chat-bubble user-msg">${text}</div>`;
            input.value = '';
            output.scrollTop = output.scrollHeight;

            // Loading state
            const loadingId = "load-" + Date.now();
            output.innerHTML += `<div id="${loadingId}" class="chat-bubble bot-msg text-xs italic">Joshua is reflecting...</div>`;

            try {
                const context = "You are Joshua, a wise and kind AI assistant for Christ Love Ministries (CLM) Rundu Branch. The leader is Apostle Joseph Kandjeke Likoro. Use biblical wisdom.";
                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(context + " User asks: " + text)}`);
                const reply = await response.text();
                
                document.getElementById(loadingId).remove();
                output.innerHTML += `<div class="chat-bubble bot-msg">${reply}</div>`;
                output.scrollTop = output.scrollHeight;
            } catch (e) {
                document.getElementById(loadingId).remove();
                output.innerHTML += `<div class="chat-bubble bot-msg">My apologies, I am having trouble connecting. May God bless you regardless!</div>`;
            }
        }
    </script>
</body>
</html>
