<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christ Love Ministries | Rundu Branch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; background: #0f172a; color: white; margin: 0; overflow: hidden; }

        /* Background */
        #bg-slideshow { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; overflow: hidden; }
        .bg-slide { position: absolute; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1.5s ease; }
        .bg-slide.active { opacity: 0.35; }

        /* Main App Layer */
        #app-container { position: relative; z-index: 10; height: 100vh; width: 100%; overflow-y: auto; transition: filter 0.3s ease; }
        .content-blur { filter: blur(10px); pointer-events: none; }

        /* Glass Cards */
        .glass { background: rgba(30, 58, 138, 0.5); backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1rem; cursor: pointer; transition: 0.3s; }
        .glass:hover { transform: translateY(-5px); background: rgba(30, 58, 138, 0.8); }

        /* Fixed Tab/Modal System - Highest Z-Index */
        .tab-page { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: 100; background: rgba(10, 20, 40, 0.98); backdrop-filter: blur(15px);
            display: none; flex-direction: column; padding: 2rem; overflow-y: auto;
        }
        .tab-page.active { display: flex; }

        .back-btn { 
            display: inline-flex; align-items: center; gap: 0.5rem; 
            padding: 0.6rem 1.2rem; background: #2563eb; border-radius: 9999px;
            color: white; font-weight: bold; cursor: pointer; margin-bottom: 2rem;
            width: fit-content; border: none; transition: 0.2s;
        }
        .back-btn:hover { background: #1d4ed8; }

        /* Chat */
        .chat-bubble { max-width: 80%; padding: 12px; border-radius: 15px; margin-bottom: 8px; }
        .user-msg { background: #3b82f6; align-self: flex-end; }
        .bot-msg { background: #1e3a8a; align-self: flex-start; border: 1px solid #3b82f6; }
    </style>
</head>
<body>

    <div id="bg-slideshow">
        <img src="https://images.unsplash.com/photo-1438232992991-995b7058bbb3?q=80&w=1920" class="bg-slide active">
        <img src="https://images.unsplash.com/photo-1504052434569-70ad5836ab65?q=80&w=1920" class="bg-slide">
    </div>

    <div id="app-container">
        <header class="text-center py-12">
            <div class="w-32 h-32 mx-auto bg-blue-900 rounded-full mb-4 border-4 border-blue-400 overflow-hidden shadow-2xl">
                <img src="Title Logo.png" alt="Logo" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/150?text=CLM+LOGO'">
            </div>
            <h1 class="text-4xl font-bold text-blue-100">Christ Love Ministries</h1>
            <p class="text-blue-400 uppercase tracking-widest">Rundu Branch</p>
            <button onclick="toggleSidebar()" class="absolute top-8 right-8 text-3xl text-white"><i class="fas fa-bars"></i></button>
        </header>

        <main class="max-w-5xl mx-auto px-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pb-24">
            <div class="glass p-8 text-center" onclick="openTab('vision')">
                <i class="fas fa-eye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Vision</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('mission')">
                <i class="fas fa-bullseye text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Mission</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('services')">
                <i class="fas fa-calendar-alt text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Services</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('quotes')">
                <i class="fas fa-quote-left text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Quotes</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('anchor')">
                <i class="fas fa-anchor text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Anchor</h3>
            </div>
            <div class="glass p-8 text-center" onclick="openTab('call')">
                <i class="fas fa-phone text-4xl mb-4 text-blue-400"></i><h3 class="text-xl font-bold">Contact</h3>
            </div>
        </main>
    </div>

    <div id="sidebar" class="fixed top-0 right-[-300px] w-72 h-full bg-slate-900 z-[110] transition-all duration-300 p-8 shadow-2xl border-l border-blue-800">
        <button onclick="toggleSidebar()" class="text-2xl mb-8"><i class="fas fa-times"></i></button>
        <nav class="flex flex-col gap-6 text-xl">
            <a href="#" onclick="openTab('about'); toggleSidebar()">About Us</a>
            <a href="#" onclick="openTab('leaders'); toggleSidebar()">Leaders</a>
            <a href="#" onclick="openTab('call'); toggleSidebar()">Contact</a>
        </nav>
    </div>

    <div id="vision" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto text-center mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-6">Our Vision</h2>
            <p class="text-2xl italic">"Christ like faith and righteousness for all nations."</p>
            <p class="mt-4 font-bold text-blue-300">– 1 Timothy 1:5</p>
        </div>
    </div>

    <div id="mission" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-6 text-center">Our Mission</h2>
            <p class="text-xl leading-relaxed bg-blue-900/30 p-6 rounded-xl border-l-4 border-blue-500">
                "As we receive the love and mercy of God, we lift up the name of Jesus in power and spiritual warfare, we plant churches, teach and demonstrate the love of God that passes all understanding that all might accept Jesus Christ as their all in all."
            </p>
        </div>
    </div>

    <div id="services" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10">
            <h2 class="text-4xl font-bold text-blue-400 mb-8 text-center">Service Times</h2>
            <div class="grid gap-4 text-lg">
                <div class="glass p-4"><b>Sunday Services:</b> from 8 AM</div>
                <div class="glass p-4"><b>Wednesday Services:</b> 6 PM</div>
                <div class="glass p-4"><b>Friday Fellowship:</b> from 6 PM</div>
                <div class="glass p-4 border-red-500 border"><b>Last Friday of the Month:</b> Overnight Prayers</div>
            </div>
        </div>
    </div>

    <div id="quotes" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10 space-y-6">
            <div class="glass p-6 italic text-xl">"Sometimes we look for employment when we are employers." <br><span class="text-sm font-bold block mt-2 text-blue-300">— Apostle Joseph K.L</span></div>
            <div class="glass p-6 italic text-xl">"Just as the birds do not compete for space to fly, do not compete for prosperity, it is enough for everyone." <br><span class="text-sm font-bold block mt-2 text-blue-300">— Apostle Joseph K.L</span></div>
        </div>
    </div>

    <div id="anchor" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto text-center mt-20">
            <h2 class="text-4xl font-bold text-blue-400 mb-6">Anchor Scripture</h2>
            <p class="text-3xl font-serif italic">"If the foundations be destroyed, what can the righteous do?"</p>
            <p class="mt-4 font-bold text-blue-300">— Psalm 11:3</p>
        </div>
    </div>

    <div id="call" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-md mx-auto text-center mt-10">
            <h2 class="text-4xl font-bold mb-8">Contact Us</h2>
            <div class="space-y-4">
                <a href="tel:0814308121" class="block bg-blue-600 p-4 rounded-xl text-2xl font-bold">081 430 8121</a>
                <a href="tel:0814810981" class="block bg-blue-600 p-4 rounded-xl text-2xl font-bold">081 481 0981</a>
            </div>
        </div>
    </div>

    <div id="leaders" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="text-center mt-20">
            <h2 class="text-3xl font-bold">Our Leaders</h2>
            <p class="text-xl mt-4">Overseen by <b>Apostle Joseph K.L</b></p>
        </div>
    </div>

    <div id="about" class="tab-page">
        <button class="back-btn" onclick="closeTab()"><i class="fas fa-arrow-left"></i> Back</button>
        <div class="max-w-2xl mx-auto mt-10">
            <h2 class="text-4xl font-bold mb-6">About CLM</h2>
            <p class="text-xl">Christ Love Ministries Rundu Branch is dedicated to teaching the Word of God, walking in love, and transforming lives through the Gospel of Jesus Christ.</p>
        </div>
    </div>

    <div onclick="openJoshua()" class="fixed bottom-8 right-8 w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-3xl shadow-2xl z-50 cursor-pointer">
        <i class="fas fa-robot"></i>
    </div>

    <div id="joshua-modal" class="tab-page" style="background: rgba(15, 23, 42, 0.95);">
        <button class="back-btn" onclick="closeJoshua()"><i class="fas fa-times"></i> Close Chat</button>
        <div class="w-full max-w-md mx-auto h-[60vh] bg-slate-900 border border-blue-700 rounded-2xl flex flex-col overflow-hidden">
            <div id="joshua-output" class="flex-1 p-4 overflow-y-auto flex flex-col gap-2">
                <div class="chat-bubble bot-msg">Shalom! How can I help you today?</div>
            </div>
            <div class="p-4 bg-slate-800 flex gap-2">
                <input id="joshua-input" type="text" class="flex-1 bg-transparent border-none focus:ring-0 text-white" placeholder="Ask anything..." onkeypress="if(event.key==='Enter') askJoshua()">
                <button onclick="askJoshua()" class="text-blue-400 text-2xl"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script>
        // Slideshow
        const slides = document.querySelectorAll('.bg-slide');
        let cur = 0;
        setInterval(() => {
            slides[cur].classList.remove('active');
            cur = (cur + 1) % slides.length;
            slides[cur].classList.add('active');
        }, 5000);

        // Navigation
        function openTab(id) {
            document.getElementById(id).classList.add('active');
            document.getElementById('app-container').classList.add('content-blur');
        }
        function closeTab() {
            document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
            document.getElementById('app-container').classList.remove('content-blur');
        }

        // Sidebar
        function toggleSidebar() {
            const s = document.getElementById('sidebar');
            s.style.right = (s.style.right === '0px') ? '-300px' : '0px';
        }

        // AI Chat
        function openJoshua() { document.getElementById('joshua-modal').classList.add('active'); }
        function closeJoshua() { document.getElementById('joshua-modal').classList.remove('active'); }

        async function askJoshua() {
            const input = document.getElementById('joshua-input');
            const output = document.getElementById('joshua-output');
            const text = input.value.trim();
            if(!text) return;

            output.innerHTML += `<div class="chat-bubble user-msg">${text}</div>`;
            input.value = '';
            output.scrollTop = output.scrollHeight;

            try {
                const res = await fetch(`https://text.pollinations.ai/${encodeURIComponent("You are Joshua for Christ Love Ministries. User asks: " + text)}`);
                const reply = await res.text();
                output.innerHTML += `<div class="chat-bubble bot-msg">${reply}</div>`;
                output.scrollTop = output.scrollHeight;
            } catch (e) {
                output.innerHTML += `<div class="chat-bubble bot-msg">Sorry, I'm offline. Please check back later!</div>`;
            }
        }
    </script>
</body>
</html>
